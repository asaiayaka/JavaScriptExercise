# 解答

読み方：シーテンケイ
1台のサーバーで同時に1万接続をさばけるか？という課題のこと

## C10K問題の意味

- C = Concurrent(同時)
- 10K = 10000(1万)

1999年ごろ、Webサーバーの性能限界として問題になった

## なぜ問題になったのか

当時のサーバーは、

- 接続数が増えるとスレッドが爆増
- メモリ消費が激しい
- コンテキストツイッチが多発
- すぐ性能劣化・停止

このため、1万スレッドは現実ではなかった

## 解決の方向性

ノンブロッキングI/O + イベント駆動

- select / poll / epoll / kqueue
- 1スレッドで大領接続を管理
- 処理が来た時だけCPUを使う

## Node.jsとの関係

Node.jsはC10K問題への回答の一つとして設計されている。

- Node.jsの特徴
  - シングルスレッド
  - イベントループ
  - ノンブロッキングI/O

Node.jsは内部で、

- Linuxではepoll
- macOSではkqueue
等を利用し、イベント駆動でI/O処理をしている。
そのため、少ないスレッド数で、大量の同時接続を効率よくできる
